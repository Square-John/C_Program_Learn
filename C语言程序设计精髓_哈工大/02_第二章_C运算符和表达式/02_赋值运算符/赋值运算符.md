## 赋值运算符



### 变量的定义

1. 定义一个变量也就是**声明一个变量的名字以及变量的类型**。例如，`int a, b;`
   - 变量的类型决定了：
     - 占用内存空间的大小。编译器根据变量的类型为相应的变量分配相应字节数的存储空间；
     - 数据的存储形式；
     - 合法的表数范围；
     - 可参与的运算种类。
   - 变量名**标识**了内存中的一个存储单元。有了变量的名字，我们就可以找到它所标识的存储单元，进而我们就可以通过变量的名字来访问它所标识的存储单元了。
2. 如果我们只是定义了一个变量而没有给它初始化，那么这个变量的值对于我们来说就是**不确定的**。



### 赋值运算符

1. **赋值运算符和数学中的等号有何区别？**

   1. 赋值运算符（`=`）**具有方向性**，赋值运算符将运算符右边的值赋予左边的变量；

   2. 赋值运算符的左值和右值**类型应一致**。

      - 如果我们给一个`int`类型的变量赋予一个小数，那么，最后该变量得到的值就只是该小数的整数部分其小数部分的信息就会被丢失。

   3. 赋值的方式和类型

      1. 简单赋值

         - $$format: var = expression$$

         - $$example: a = a + 1$$

         C语言中的赋值运算符的优先级是最低的，所以，对于`a = a + 1`这样的表达式的运算顺序是先计算`a + 1`的结果，然后再将其结果赋值给`a`变量。

         

      2. 多重赋值

         - $$format:var1 = var2 = expession$$
         - $$example: a = b = 3$$

         C语言中的赋值运算符是**右结合**运算符，所以对于`a = b = 3`这样的表达式，是从右往左开始计算的，即：

         1. 先将`3`赋值给`b`
         2. 然后再将`b = 3`的计算结果，也就是`3`赋值给`a`

         

      3. 复合的赋值

         - $$format: var\quad operator= expression$$
         - $example: $ `a += 1`​  $相当于$  `a = a + 1`

         上面的`+=`就是一个复合运算符，C语言中与算术相关的复合赋值运算符有5种：

         1. `+=`
         2. `-=`
         3. `*=`
         4. `/=`
         5. `%=`

         和与之等价的赋值运算相比，这样的简写的**复合赋值运算的执行效率更高**

   

### 如何给变量赋值

1. 在C语言中，我们通过赋值操作来给变量赋值，但是C语言中并没有专门的用于给变量赋值的语句

2. C语言中可以通过以下两种方式给变量赋值：

   1. 赋值表达式语句

      - $$format: var = expression ;$$
      - $$example: a = 3;$$

      也就是在赋值表达式后面使用加上一个`;`表示这是一个语句。

   2. 定义变量的同时为变量赋值——**初始化**

      - $$format: datatype var = experssion;$$
      - $$example:$$`int a = 3;`

      这样的语句相当于下面这两条语句：

      ```c
      int a; //为变量a分配内存空间
      a = 3; //为给变量a赋值
      ```

3. **注意**

   1. 使用赋值表达式的时候可以使用连续的赋值给多个变量同时赋值，例如：

      ```c
      a = b = c = 1;//这是被允许的
      ```

      

   2. 但是，初始化赋值不能使用连续的赋值

      ```c
      int a = b = 1; //这是不被允许的
      
      //但是我们可以像这样同时定义多个变量并为其分别赋初值
      int a = 1, b = 1; //这是被允许的
      ```

      

### 本节例子

```c
/**
例1：
	已知 int a = 3;
	执行 a += a -= a * a; 之后，变量a的值？
	
解：
	1、+=、-= 是赋值运算符，而*是算术运算符，C语言中算术运算符的优先级高于赋值运算符；
	2、所以，上面的语句，应该先是执行 
		a * a -> 3 * 3 = 9
	3、然后上式变为
		a += a -= 9;
	只剩下了两个优先级相同的赋值运算符+=、-=
	4、赋值运算符是右结合运算符，故上式的先执行
		a -= 9 -> a = a - 9 -> a = (a - 9) -> a = 3 - 9 -> a = -6
	5、然后上式变为
		a += -6
	6、相当于
		a = a + -6 -> a = a + (-6) -> a = (-6) + (-6) -> a = -12
*/

```



### END

